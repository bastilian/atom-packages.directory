<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Atom Packages Directory</title>
    <link rel="stylesheet" href="/assets/application.css">
    <link rel="stylesheet" href="/assets/admin.css">

  </head>
  <body>
    <header>
      <h1><a href="/"><span class="octicon octicon-package"></span>Atom Packages Directory</a></h1>
      <span class="subheader">a package directory for a <a href="http://atom.io">text editor of the 21st Century</a></span>
    </header>
    <section id="content">
      <h1>Termrk</h1>
<h1 id="termrk">Termrk</h1>
<blockquote>
  <p>Sliding terminal panel for Atom.</p>
</blockquote>

<p>There are various implementations of terminals for Atom; each with their own
vision/perspective.  The main focus of this one is to have a slick, quickly
accessible terminal panel: handy when you need it; out-of-the way when you
don’t.
It slides in and out with a single keystroke, mapped to <code>alt-space</code> by
default. Efficient and simple.</p>

<!--FIXME TOC doesnt seem to work on atom.io ¡gfm! -->
<ol>
  <li><a href="#overview">Overview</a></li>
  <li><a href="#--keybindings">Keybindings</a></li>
  <li><a href="#commands">Commands</a></li>
  <li><a href="#user-commands">User-commands</a></li>
  <li><a href="#styling">Styling</a></li>
  <li><a href="#credits">Credits</a></li>
  <li><a href="#license">License</a></li>
</ol>

<h2 id="overview">Overview</h2>

<p><img src="https://github.com/romgrk/termrk/blob/master/static/out.gif?raw=true" alt="Termrk Screenshot" /></p>

<p><small>Termrk existing.</small></p>

<p><strong>Currently implemented:</strong>
 - multiple terminal sessions
 - user defined commands (→ user defined <em>atom-commands</em>)
 - running current file in terminal 
   (supports <code>.js</code>, <code>.node</code>, <code>.coffee</code>, <code>.py</code> and shebang-notation―<code>#!</code>)
 - inserting selection to/from the buffer
 - inserting current file/directory path
 - color/font styling</p>

<p><em>If some feature that you’d like to see isn’t implemented, don’t hesitate to create a request.</em></p>

<h4 id="demo-running-vim-inside-termrk-inside-atom">Demo: running <em>vim</em> inside <em>termrk</em> inside <em>atom</em></h4>

<p><img src="https://github.com/romgrk/termrk/blob/master/static/out.gif?raw=true" alt="vim demo" /></p>

<h2 id="keybindings">⌨  Keybindings</h2>

<p>Designed around the <code>alt-space</code> keystroke really. It is often unmapped,  and
very easy to access.</p>

<p><strong>→ workspace</strong></p>

<ul>
  <li><code>alt-space</code>:      toggle terminal panel</li>
  <li><code>ctrl-alt-space</code>: create terminal in current file’s dir</li>
  <li><code>ctrl-alt-shift-space</code>: insert current selection in active terminal</li>
</ul>

<p><strong>→ inside terminal</strong></p>

<ul>
  <li><code>ctrl-escape</code>:    close current terminal</li>
  <li><code>ctrl-space</code>:     create terminal</li>
  <li><code>ctrl-tab</code>:       activate next terminal</li>
  <li><code>ctrl-shift-tab</code>: activate previous terminal</li>
</ul>

<p><strong>Note</strong>: if a <code>keystroke</code> is catched by an atom-command but you need it inside terminal, add the following code to you <code>keymap.cson</code>.</p>

<p><code>coffee
'.termrk':
  'KEYSTROKE_TO_CATCH': 'native!'
</code></p>

<h2 id="commands">Commands</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Action</th>
      <th>Scope</th>
      <th>Keybinding</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>termrk:toggle</code></td>
      <td>Toggle termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td><code>alt-space</code></td>
    </tr>
    <tr>
      <td><code>termrk:hide</code></td>
      <td>Hide termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:show</code></td>
      <td>Show termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:toggle-focus</code></td>
      <td>Toggle focus of termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:focus</code></td>
      <td>Focus termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:blur</code></td>
      <td>Blur termrk panel</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:create-terminal</code></td>
      <td>Creates new session</td>
      <td><code>atom-workspace</code></td>
      <td><code>ctrl-space</code></td>
    </tr>
    <tr>
      <td><code>termrk:create-terminal-current-dir</code></td>
      <td>Creates session in current file’s directory</td>
      <td><code>atom-workspace</code></td>
      <td><code>ctrl-alt-space</code></td>
    </tr>
    <tr>
      <td><code>termrk:close-terminal</code></td>
      <td>Close active terminal session</td>
      <td><code>.termrk</code></td>
      <td><code>ctrl-escape</code></td>
    </tr>
    <tr>
      <td><code>termrk:insert-selection</code></td>
      <td>Inserts current selection in terminal</td>
      <td><code>atom-workspace</code></td>
      <td><code>ctrl-alt-sphift-space</code></td>
    </tr>
    <tr>
      <td><code>termrk:insert-filename</code></td>
      <td>Insert current file’s path in terminal</td>
      <td><code>.termrk</code></td>
      <td><code>% f</code></td>
    </tr>
    <tr>
      <td><code>termrk:run-current-file</code></td>
      <td>Runs current file in terminal</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:create-terminal</code></td>
      <td>Creates a terminal-session</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:activate-next-terminal</code></td>
      <td>Cycles forward terminal-sessions</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
    <tr>
      <td><code>termrk:activate-previous-terminal</code></td>
      <td>Cycles backward terminal-sessions</td>
      <td><code>atom-workspace</code></td>
      <td> </td>
    </tr>
  </tbody>
</table>

<h2 id="user-commands">User-commands</h2>

<p>User commands are defined in the file <code>$ATOM_HOME/userCommands.cson</code>.
(file path can be configured <em>via</em> Atom Settings)</p>

<p>Commands have this format:
<code>coffee
'echofile':
  command: 'echo The current file is $FILE'
</code>
The previous command description would be mapped to <code>'termrk:command-echofile'</code>,
and calling that command would run <code>'echo The current file is $FILE'</code> in 
terminal.</p>

<p>Other examples:
```coffee
‘shellreplace’:
  ‘command’: ‘gnome-shell –replace –display :0’</p>

<p>‘coffeerun’:
  ‘command’: ‘coffee $FILE’</p>

<p>‘npmyes’:
  ‘command’: ‘cd $DIR &amp;&amp; npm init –yes’</p>

<h1 id="section">…</h1>
<p>```</p>

<p>Defined variables:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>$FILE</code></td>
      <td><code>atom.workspace.getActiveTextEditor().getURI()</code></td>
    </tr>
    <tr>
      <td><code>$DIR</code></td>
      <td><code>path.dirname $FILE</code></td>
    </tr>
    <tr>
      <td><code>$PROJECT</code></td>
      <td><code>atom.project.getPaths()[0]</code></td>
    </tr>
  </tbody>
</table>

<p>The variables aren´t really defined in the environment — using plain <code>String.replace</code>.</p>

<h2 id="styling">Styling</h2>
<p>(through less/css)</p>

<p>Example for black text on white bg, and blue cursor-bg.</p>

<p>```css
.termrk .terminal {
    color: black;
    background-color: blue;
}</p>

<p>.termrk .terminal-cursor {
    color: black;
    background-color: white;
}
```</p>

<h2 id="credits">Credits</h2>

<p>Termrk is a terminal implementation based on <a href="https://github.com/chjj/term.js">term.js</a> and <a href="https://github.com/chjj/pty.js">pty.js</a> 
modules by Christopher Jeffrey.</p>

<p>Atom is a text-editor developped by github etc. etc….</p>

<h2 id="license">License</h2>

<blockquote>
  <p>Same as JSON</p>
</blockquote>

<hr />

<!-- lang: coffee -->

terminal,shell,bash,sh
    </section>
    <footer>
      <p>
        Made with <span class="octicon octicon-heart"></span> by <a href="http://bastilian.me">@bastilian</a>
      </p>
      <p>
        <small>Last updated: 2016-04-29</small>
      </p>
    </footer>
    <div style="opacity:.15;position:relative;z-index:-1;">
      <div class="system"></div>
      <div class="system-2"></div>
    </div>
    <a href="https://github.com/bastilian/atom-packages.directory">
      <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
    </a>
  </body>
</html>
